(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-030c6fc0"],{2046:function(t,e,s){"use strict";var o=s("6db7"),r=s.n(o);r.a},"6db7":function(t,e,s){},b8b8:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Reg"},[s("Reg")],1)},r=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-nav-bar",{attrs:{title:"黑鲨注册","left-text":"←","right-text":"","left-arrow":!1,fixed:!0},on:{"click-left":t.onClickLeft}}),t._m(0),s("div",{staticClass:"input_box"},[s("span",{style:t.titlecolor?{color:"#58bc58"}:{color:"red"},domProps:{textContent:t._s(t.teltitle)}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.tel,expression:"tel"},{name:"focus",rawName:"v-focus",value:t.focusState,expression:"focusState"}],attrs:{type:"tel",placeholder:"请输入手机号"},domProps:{value:t.tel},on:{blur:t.VerifyPhoneNumber,input:function(e){e.target.composing||(t.tel=e.target.value)}}}),s("span",{style:t.notecolor?{color:"#58bc58"}:{color:"red"},domProps:{textContent:t._s(t.notetitle)}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.note,expression:"note"},{name:"focus",rawName:"v-focus",value:t.focusNote,expression:"focusNote"}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:t.note},on:{blur:t.checkNote,input:function(e){e.target.composing||(t.note=e.target.value)}}}),s("span",{style:t.passwordcolor?{color:"#58bc58"}:{color:"red"},domProps:{textContent:t._s(t.passwordtitle)}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"},{name:"focus",rawName:"v-focus",value:t.focusPassword,expression:"focusPassword"}],attrs:{type:"password",placeholder:"请输入密码(字母开头，6至18位之间)"},domProps:{value:t.password},on:{blur:t.passwords,input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("span",{style:t.affirmcolor?{color:"#58bc58"}:{color:"red"},domProps:{textContent:t._s(t.affirmtitle)}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.affirm,expression:"affirm"},{name:"focus",rawName:"v-focus",value:t.focusAffirm,expression:"focusAffirm"}],attrs:{type:"password",placeholder:"请确认密码"},domProps:{value:t.affirm},on:{blur:t.affirms,input:function(e){e.target.composing||(t.affirm=e.target.value)}}}),s("div",{staticClass:"btns",on:{click:t.getNote}},[t._v("获取验证码")])]),s("div",{staticClass:"reg",on:{click:t.regbtn}},[t._v("注册")]),s("div",{staticClass:"login",on:{click:t.goLogin}},[t._v("账号登录")]),s("div",{staticClass:"xiaoxi"},[s("input",{attrs:{type:"checkbox"},domProps:{checked:t.checked},on:{click:t.check}}),s("span",[t._v("我已阅读并接受《黑鲨服务协议》")])])],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"logo_box"},[s("img",{attrs:{src:"https://shop-1256119282.file.myqcloud.com/blackshark/pass-source/resources/login/img/login-m-logo.png",alt:""}})])}],a=(s("96cf"),s("3b8d")),l={data:function(){return{tel:null,regularTel:/^1[3456789]\d{9}$/,teltitle:null,titlecolor:!1,focusState:!1,note:null,notetitle:null,notecolor:!1,focusNote:!1,password:null,passwordtitle:null,passwordcolor:!1,focusPassword:!1,regularPassword:/^[a-zA-Z]\w{5,17}$/,affirm:null,affirmtitle:null,affirmcolor:!1,focusAffirm:!1,checked:!1}},methods:{onClickLeft:function(){this.$router.go(-1)},check:function(){this.checked=!this.checked},VerifyPhoneNumber:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.regularTel.test(this.tel)){t.next=5;break}return t.next=3,this.$axios({method:"post",url:"http://10.3.132.145:3000/reg/tel",data:this.$qs.stringify({tel:this.tel})}).then(function(t){"yes"==t.data?(e.teltitle="可以注册",e.titlecolor=!0):(e.teltitle="已注册",e.tel=null,e.titlecolor=!1),console.log(t)});case 3:t.next=8;break;case 5:this.teltitle="请输入格式正确的手机号",this.titlecolor=!1,this.tel=null;case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getNote:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.regularTel.test(this.tel)){t.next=5;break}return t.next=3,this.$axios({method:"post",url:"http://10.3.132.145:3000/reg/xin",data:this.$qs.stringify({tel:this.tel})}).then(function(t){console.log(t.data),sessionStorage.setItem("num",t.data.nums)});case 3:t.next=9;break;case 5:this.teltitle="请输入格式正确的手机号",this.titlecolor=!1,this.tel=null,this.focusState=!0;case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),checkNote:function(){var t=sessionStorage.getItem("num");this.note?this.note===t?(this.notetitle="匹配成功",this.notecolor=!0):(this.notetitle="请输入正确验证码",this.notecolor=!1,this.note=null):(this.notetitle="验证码不能为空",this.notecolor=!1)},passwords:function(){this.password?this.regularPassword.test(this.password)?(this.passwordtitle="密码可用",this.passwordcolor=!0):(this.passwordtitle="请输入6-18位以字母开头的密码",this.passwordcolor=!1,this.password=null):(this.passwordtitle="请设置密码",this.passwordcolor=!1)},affirms:function(){this.affirm?this.affirm===this.password?(this.affirmtitle="密码可用",this.affirmcolor=!0):(this.affirmtitle="两次密码不匹配",this.affirmcolor=!1,this.affirm=null):(this.affirmtitle="请再次输入密码",this.affirmcolor=!1)},regbtn:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.titlecolor&&this.notecolor&&this.passwordcolor&&this.affirmcolor)){t.next=9;break}if(!this.checked){t.next=6;break}return t.next=4,this.$axios({method:"post",url:"http://10.3.132.145:3000/reg/add",data:this.$qs.stringify({tel:this.tel,pwd:this.password})}).then(function(t){"yes"==t.data?(e.$toast("注册成功"),sessionStorage.clear(),e.$router.push({name:"login"})):e.$toast("注册失败")});case 4:t.next=7;break;case 6:this.$toast("请先阅读注册须知");case 7:t.next=10;break;case 9:this.$toast("请输入完整注册信息");case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),goLogin:function(){this.$router.push({name:"login"})}},directives:{focus:{update:function(t,e){var s=e.value;s&&t.focus()}}}},c=l,u=(s("2046"),s("2877")),f=Object(u["a"])(c,i,n,!1,null,"fc294f14",null),h=f.exports,p={name:"reg",components:{Reg:h}},d=p,m=Object(u["a"])(d,o,r,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-030c6fc0.d4079fec.js.map